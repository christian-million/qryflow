% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parse-helpers.R
\name{extract_all_tags}
\alias{extract_all_tags}
\alias{subset_tags}
\title{Extract tagged metadata from a SQL chunk}
\usage{
extract_all_tags(text)

subset_tags(tags, keep, negate = FALSE)
}
\arguments{
\item{text}{A character vector of SQL lines or a file path to a SQL script.}

\item{tags}{A named list of tags, typically from \code{extract_all_tags()}. Used in \code{subset_tags()}.}

\item{keep}{A character vector of tag names to keep or exclude in \code{subset_tags()}.}

\item{negate}{Logical; if \code{TRUE}, \code{subset_tags()} returns all tags except those listed in \code{keep}.}
}
\value{
\itemize{
\item \code{extract_all_tags()}: A named list of all tags found in the SQL chunk.
\item \code{subset_tags()}: A filtered named list of tags or \code{NULL} if none remain.
}
}
\description{
\code{extract_all_tags()} scans SQL for specially formatted comment tags (e.g., \verb{-- @tag: value})
and returns them as a named list. This is exported with the intent to be useful for users
extending \code{qryflow}. It's typically used against a single SQL chunk, such as one parsed from a
\code{.sql} file.
}
\examples{
filepath <- example_sql_path('mtcars.sql')
parsed <- qryflow_parse(filepath)

chunk <- parsed[[1]]
tags <- extract_all_tags(chunk$sql)
subset_tags(tags, keep = c("query"))
}
\seealso{
\code{\link[=qryflow_parse]{qryflow_parse()}}, \code{\link[=ls_qryflow_types]{ls_qryflow_types()}}, \code{\link[=qryflow_default_type]{qryflow_default_type()}}
}
